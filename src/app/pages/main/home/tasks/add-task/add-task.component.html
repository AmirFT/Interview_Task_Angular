<ng-container *ngIf="data.action === 'create'">
  <h2 mat-dialog-title class=" m-b-24">Add Task</h2>
</ng-container>
<ng-container *ngIf="data.action === 'update'">
  <h2 mat-dialog-title class=" m-b-24">Edit Task</h2>
</ng-container>

<mat-dialog-content class="mat-typography" style="max-width: 600px">
  <form #userForm="ngForm">

    <mat-form-field appearance="outline" class="w-100">
      <input type="text" matInput required id="title" name="title" [(ngModel)]="local_data.title"
        placeholder="title here" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-100">
      <input type="text" matInput required id="description" name="description" [(ngModel)]="local_data.description"
        placeholder="description here" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-100">
      <mat-label>Employee</mat-label>
      <select matNativeControl required name="assignedUserId" [(ngModel)]="local_data.assignedUserId">
        <option *ngFor="let user of employees;" [value]="user.id">{{user.name}}</option>

      </select>
    </mat-form-field>

    <mat-form-field appearance="outline" class="w-100">
      <mat-label>Priority</mat-label>
      <select matNativeControl required name="priority" [(ngModel)]="local_data.priority">
        <option value=0>0</option>
        <option value=1>1</option>
        <option value=2>2</option>
        <option value=3>3</option>

      </select>
    </mat-form-field>

  </form>
</mat-dialog-content>
<mat-divider></mat-divider>
<mat-dialog-actions class="p-24">
  <button mat-stroked-button color="warn" mat-dialog-close>Cancel</button>
  <ng-container *ngIf="data.action ==='create'">
    <button mat-flat-button [mat-dialog-close]="true" [disabled]="!userForm.form.valid" color="primary"
      (click)="doAction(false);">
      Create
    </button>
  </ng-container>
  <ng-container *ngIf="data.action ==='update'">
    <button mat-flat-button [mat-dialog-close]="true" [disabled]="!userForm.form.valid" color="primary"
      (click)="doAction(true);">
      Update
    </button>
  </ng-container>
</mat-dialog-actions>
